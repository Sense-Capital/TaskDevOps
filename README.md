# TaskDevOps

Тестовое задание для DevOps

Дано:
- В качестве приложения используем любой эхо сервер. Например вот этот
https://github.com/fatihboy/EchoServer.git - делаем форк этого репозитория.
- Опубликовать его через любой registry
- Linux VM машина с внешним IP и привязкой домена testvm.sensetower.io

Задача:

Написать docker-compose и развернуть его на linux vm со следующей функциональностью. Можно дополнительно разворачивать любые докеры в рамках этого docker-compose.

  1. Развернуто четыре инстанса приложения

  2. Три инстанса доступны по адресам https://testvm.sensetower.io/instance1/, https://testvm.sensetower.io/instance2/ https://testvm.sensetower.io/instance3/ при этом не доступны по внешнему и внутреннему IP инстансы напрямую не доступны.

  3. Один инстанс доступен по внешнему IP по не стандартному порту

  4. Сертификат должен создаваться Letsencrypt и обновляться автоматически

  5. При обновлении ветки main форка должна происходить публикация контейнера и обоновляться все инстансы кроме четвертого (который на порту висит).
